var routUrl,comp,rootDiv,routes=Array.from(document.querySelectorAll("router-routes")),comps=Array.from(document.querySelectorAll("router-routes"));function routing(e){e.preventDefault();var current=e.target.getAttribute("router-link");routes.forEach(function(route,i){routUrl=routes[i].getAttribute("link"),comp=comps[i].getAttribute("components"),routes.length==comps.length&&current==routUrl&&(Compo(routUrl,eval(comp)),history.pushState(current,"",routUrl))})}var isRefresh=!1;function handleRefresh(){routes.forEach(function(route,i){routUrl=routes[i].getAttribute("link"),comp=comps[i].getAttribute("components"),isRefresh&&location.pathname==routUrl&&Compo(routUrl,eval(comp))})}function Loader(){routes.forEach(function(t,o){routUrl=routes[o].getAttribute("link"),comp=comps[o].getAttribute("components"),location.pathname==routUrl&&(isRefresh=!0)})}performance.navigation.type==performance.navigation.TYPE_RELOAD&&(isRefresh=!0),setInterval(handleRefresh,1),setInterval(Loader,1),setTimeout(function(){isRefresh||comps.forEach(function(val,i){Compo("/",eval(comp=comps[0].getAttribute("components")))})},1);var linkTo=Array.from(document.querySelectorAll("[router-link]"));for(lt of linkTo)lt.onclick=routing;function Compo(t,o){if(this.url=t,"function"==typeof o?this.component=o:this.component=`${o}`,title=this.url.length>1?this.url.replace(this.url[1],this.url[1].toUpperCase()):this.url,this.obj={url:this.url,component:this.component,title:title},"string"==typeof this.obj.url&&""!=this.obj.url)return document.title=this.obj.title,document.querySelector("#root").innerHTML=this.obj.component}var routerTemplate=document.createElement("template");class RouterRoutes extends HTMLElement{constructor(){super();var t=this.attachShadow({mode:"open"}),o=document.adoptNode(routerTemplate.content);t.appendChild(o)}}customElements.define("router-routes",RouterRoutes);
